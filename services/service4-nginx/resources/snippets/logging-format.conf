# Custom Logging Format Snippet
# Purpose: Define custom log formats for detailed request logging
#
# Usage:
# 1. Include this in your server block or http block
# 2. Reference the format name in your access_log directive:
#    access_log /var/log/nginx/access.log detailed;
#
# Or copy the log_format directive to your nginx.conf or server block

# MODIFY: Detailed log format with all information
log_format detailed '$remote_addr - $remote_user [$time_local] '
                    '"$request" $status $body_bytes_sent '
                    '"$http_referer" "$http_user_agent" '
                    '$request_time $upstream_response_time '
                    '$upstream_addr $upstream_status';

# MODIFY: JSON log format (useful for log aggregation tools)
log_format json_combined escape=json
    '{'
        '"time_local":"$time_local",'
        '"remote_addr":"$remote_addr",'
        '"remote_user":"$remote_user",'
        '"request":"$request",'
        '"status": "$status",'
        '"body_bytes_sent":"$body_bytes_sent",'
        '"request_time":"$request_time",'
        '"http_referrer":"$http_referer",'
        '"http_user_agent":"$http_user_agent"'
    '}';

# MODIFY: Simple log format (minimal information)
log_format simple '$remote_addr $status $request_time "$request"';

# Usage example in server block:
# access_log /var/log/nginx/access.log detailed;
# error_log /var/log/nginx/error.log warn;

